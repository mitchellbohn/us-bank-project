import Conversion
import Crypto
from Crypto.PublicKey import RSA
from Crypto import Random

#Generate Public and Private Keys
random_generator = Random.new().read

#bits need to be at least 1024
key = RSA.generate(1024, random_generator) 

publickey = key.publickey() 

#Gets User Message
org_mes = input("Enter \n")

#Converts Message to Integer
new_mes = Conversion.Encoder(org_mes)

#Get Length of Message
length=len(new_mes)

#Prints Numerical Message
print(new_mes)

#Converts Message From String Integer to Integer
new_integer_mes = int(new_mes)

#Encrypt Message
encrypted = publickey.encrypt(new_integer_mes, length)

#Prints Encrypted 
print(encrypted)

#Decrypts Message
decrypted = key.decrypt(encrypted)

#Converting From Int Back To String
decrypt_mes = str(decrypted)

#Converts Back to Orignal Message
newest = Conversion.Decoder(decrypt_mes)

#Prints Final Message
print(newest)
